{"version":3,"sources":["script.js"],"names":["startTime","preferredAnimationDuration","targetPosition","currentPosition","currentVelocity","maxAcceleration","timeoutId","document","addEventListener","tasksOnLoad","getElementById","scrollRight","scrollLeft","querySelector","scrollTo","Date","now","clearTimeout","animate","position","reposition","carouselImages","querySelectorAll","i","length","style","display","offsetPosition","showImage","index","offset","selector","carouselImage","vw","window","innerWidth","vh","innerHeight","currentWidth","Math","min","left","displacement","elapsedTime","preferredRemainingTime","preferredRemainingFrames","max","idealVelocity","idealVelocitySize","abs","sign","acceleration","accelerationSize","finishedAnimating","setTimeout","x"],"mappings":"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","file":"all.js","sourcesContent":["var startTime   // in milliseconds since epoch\nvar preferredAnimationDuration = 1000    // in milliseconds\nvar targetPosition = 0  // integer indicating which image (zero indexed)\nvar currentPosition = 0 // float on same scale as targetPosition\nvar currentVelocity = 0 // in image widths per frame\nvar maxAcceleration = 100 // in image widths per frame per frame\nvar timeoutId = 0\n\ndocument.addEventListener('DOMContentLoaded', tasksOnLoad)\n\nfunction tasksOnLoad() {\n    document.getElementById('js_left-arrow-button').addEventListener('click', scrollRight)\n    document.getElementById('js_right-arrow-button').addEventListener('click', scrollLeft)\n    document.querySelector('.thumbnail.image-0').addEventListener('click', function(){scrollTo(0)})\n    document.querySelector('.thumbnail.image-1').addEventListener('click', function(){scrollTo(1)})\n    document.querySelector('.thumbnail.image-2').addEventListener('click', function(){scrollTo(2)})\n    document.querySelector('.thumbnail.image-3').addEventListener('click', function(){scrollTo(3)})\n}\n\nfunction scrollLeft() {\n    startTime = Date.now()\n    targetPosition += 1\n    clearTimeout(timeoutId)\n    animate()\n}\n\nfunction scrollRight() {\n    startTime = Date.now()\n    targetPosition -= 1\n    clearTimeout(timeoutId)\n    animate()\n}\n\nfunction scrollTo(position) {\n    if (targetPosition !== position) {\n        startTime = Date.now()\n        targetPosition = position\n        clearTimeout(timeoutId)\n        animate()\n    }\n}\n\nfunction reposition() {\n    var carouselImages = document.querySelectorAll('.carousel-image')\n    for (var i = 0; i < carouselImages.length; i++) {\n        carouselImages[i].style.display = 'none'\n    }\n    for (var i = -1; i <= 4; i++) {\n        var offsetPosition = i - currentPosition\n        if (offsetPosition > -1 && offsetPosition < 1) {\n            showImage(i, offsetPosition)\n        }\n    }\n}\n\nfunction showImage(index, offset) {\n    index += 4\n    index %= 4\n    var selector = '.carousel-image.image-' + index\n    var carouselImage = document.querySelector(selector)\n    carouselImage.style.display = 'block'\n    var vw = window.innerWidth / 100\n    var vh = window.innerHeight / 100\n    var currentWidth = Math.min(80 * vw, 113.7777777777777 * vh)\n    carouselImage.style.left = (offset * currentWidth) + 'px'\n}\n\nfunction animate() {\n    var displacement = targetPosition - currentPosition\n    var elapsedTime = Date.now() - startTime\n    var preferredRemainingTime = preferredAnimationDuration - elapsedTime\n    var preferredRemainingFrames = Math.max(preferredRemainingTime / 16, 1)\n    var idealVelocity = displacement / preferredRemainingFrames * (preferredRemainingTime * 3 + preferredAnimationDuration) / preferredAnimationDuration\n    idealVelocitySize = Math.min(Math.abs(idealVelocity), Math.abs(displacement))\n    idealVelocity = idealVelocitySize * Math.sign(idealVelocity)\n    var acceleration = (idealVelocity - currentVelocity)\n    if (Math.sign(acceleration) === Math.sign(currentVelocity)) {\n        accelerationSize = Math.min(maxAcceleration, Math.abs(acceleration))\n        acceleration = Math.sign(acceleration) * accelerationSize\n    }\n    currentVelocity += acceleration\n    currentPosition += currentVelocity\n\n    if (targetPosition < 0 && currentPosition < 0) {\n        targetPosition += 4\n        currentPosition += 4\n    } else if (targetPosition > 3 && currentPosition > 3) {\n        targetPosition -= 4\n        currentPosition -= 4\n    }\n\n    reposition()\n\n    if (!finishedAnimating()) {\n        timeoutId = setTimeout(animate, 16)\n    } else {\n        currentPosition = targetPosition\n        currentVelocity = 0\n        reposition()\n    }\n}\n\nfunction finishedAnimating() {\n    if (Math.abs(currentPosition - targetPosition) < 0.001 && Math.abs(currentVelocity) < 0.001) {\n        return true\n    }\n    return false\n}\n\n/**\n * Polyfill thanks to https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n */\nif (!Math.sign) {\n    Math.sign = function(x) {\n        // If x is NaN, the result is NaN.\n        // If x is -0, the result is -0.\n        // If x is +0, the result is +0.\n        // If x is negative and not -0, the result is -1.\n        // If x is positive and not +0, the result is +1.\n        return ((x > 0) - (x < 0)) || +x;\n        // A more aesthetical persuado-representation is shown below\n        //\n        // ( (x > 0) ? 0 : 1 )  // if x is negative then negative one\n        //          +           // else (because you cant be both - and +)\n        // ( (x < 0) ? 0 : -1 ) // if x is positive then positive one\n        //         ||           // if x is 0, -0, or NaN, or not a number,\n        //         +x           // Then the result will be x, (or) if x is\n        //                      // not a number, then x converts to number\n    };\n}"]}